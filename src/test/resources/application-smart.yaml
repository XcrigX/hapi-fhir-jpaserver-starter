spring:
  datasource:
    url: jdbc:h2:mem:test_mem
    username: sa
    password: null
    driverClassName: org.h2.Driver
    max-active: 15
    hikari:
      # database connection pool size
      maximum-pool-size: 10
  autoconfigure:
    exclude:
  security:
      oauth2:
        resourceserver:
          jwt:
            jwk-set-uri: http://localhost:8081/auth/realms/smart/protocol/openid-connect/certs
            issuer-uri: http://localhost:8081/auth/realms/smart
  jpa:
    properties:
      hibernate.format_sql: false
      hibernate.show_sql: false
  batch:
    job:
      enabled: false
  main:
    #    TODO 5.6.0 -> Prevent duplicate bean definitions in the Spring batch config in HAPI: see:
    allow-bean-definition-overriding: true
hapi:
  fhir:
    openapi_enabled: true
    smart_enabled: true
    smart_admin_group_enabled: true
    smart_admin_group_claim: fhirAdmin
    fhir_version: R4
    allow_cascading_deletes: true
    cors:
      allow_Credentials: true
      allowed_origin:
        - '*'
    search-coord-core-pool-size: 20
    search-coord-max-pool-size: 100
    search-coord-queue-capacity: 200

    tester:
      home:
        name: Local Tester
        server_address: 'http://localhost:8080/fhir'
        refuse_to_fetch_third_party_urls: false
        fhir_version: R4
      global:
        name: Global Tester
        server_address: "http://hapi.fhir.org/baseR4"
        refuse_to_fetch_third_party_urls: false
        fhir_version: R4
#see https://hl7.org/fhir/smart-app-launch/conformance.html#response
smart: 
  wellknown: 
    issuer: https://test.org
    jwks_uri: https://test.org/protocol/openid-connect/certs
    authorization_endpoint: https://test.org/protocol/openid-connect/auth
    grant_types_supported: authorization_code, client_credentials
    token_endpoint: https://test.org/protocol/openid-connect/auth/token
    token_endpoint_auth_methods_supported: client_secret_post, client_secret_basic, private_key_jwt
    registration_endpoint: 
    scopes_supported: launch/patient, patient/*.rs, online_access
    response_types_supported: 
    management_endpoint: 
    introspection_endpoint : 
    revocation_endpoint : 
    capabilities: launch-standalone
    code_challenge_methods_supported: S256